<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Project Configuration | 2LGA Studio</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;500;700&display=swap" rel="stylesheet">

<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: 'Inter', sans-serif;
}

body {
  background: #ffffff;
  color: #111;
  padding: 120px 8%;
}

h2 {
  font-size: clamp(2.2rem, 4vw, 3rem);
  margin-bottom: 20px;
}

h2 span {
  color: #d60000;
}

.section {
  margin-top: 60px;
  max-width: 800px;
}

.section h3 {
  margin-bottom: 20px;
  font-weight: 600;
}

.checklist {
  display: grid;
  gap: 12px;
}

.checklist label {
  font-weight: 300;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 10px;
}

input[type="checkbox"] {
  accent-color: #d60000;
  width: 18px;
  height: 18px;
}

button {
  margin-top: 60px;
  padding: 15px 40px;
  border: 2px solid #d60000;
  background: transparent;
  color: #d60000;
  font-weight: 500;
  cursor: pointer;
  transition: 0.3s ease;
}

button:hover {
  background: #d60000;
  color: white;
}
</style>
</head>

<body>

<h2>Define the <span>Experience</span></h2>

<div class="section">
  <h3>Primary Objective</h3>
  <div class="checklist">
    <label><input type="checkbox"> Increase Brand Authority</label>
    <label><input type="checkbox"> Launch a New Product</label>
    <label><input type="checkbox"> Build Digital Presence</label>
    <label><input type="checkbox"> Create Immersive Experience</label>
    <label><input type="checkbox"> Experimental / Artistic Concept</label>
  </div>
</div>

<div class="section">
  <h3>Experience Level</h3>
  <div class="checklist">
    <label><input type="checkbox"> Static Website</label>
    <label><input type="checkbox"> Interactive Web</label>
    <label><input type="checkbox"> 3D Environment</label>
    <label><input type="checkbox"> AI-Driven Experience</label>
    <label><input type="checkbox"> Hybrid Physical + Digital</label>
  </div>
</div>

<div class="section">
  <h3>Visual Direction</h3>
  <div class="checklist">
    <label><input type="checkbox"> Minimal & Clean</label>
    <label><input type="checkbox"> Bold & High Contrast</label>
    <label><input type="checkbox"> Editorial & Elegant</label>
    <label><input type="checkbox"> Futuristic</label>
    <label><input type="checkbox"> Conceptual / Abstract</label>
  </div>
</div>

<div class="section">
  <h3>Technical Features</h3>
  <div class="checklist">
    <label><input type="checkbox"> E-commerce</label>
    <label><input type="checkbox"> User Accounts</label>
    <label><input type="checkbox"> Payment System</label>
    <label><input type="checkbox"> Data Collection</label>
    <label><input type="checkbox"> AI Content Generation</label>
    <label><input type="checkbox"> Real-time 3D</label>
  </div>
</div>
<a href="proyect description.html">
<button >Continue →</button>
</a>
  <script>
  function generateProposal() {
    const selections = [];
    document.querySelectorAll("input[type='checkbox']:checked").forEach(el => {
      selections.push(el.parentElement.textContent.trim());
    });

    const prompt = document.getElementById("inputText").value.trim();

    if (prompt === "") {
      alert("Por favor, describe tu visión del proyecto.");
      return;
    }

    // Unimos las selecciones y el prompt
    const fullPrompt = `
      Objetivo: ${selections.join(", ")}.
      Detalle del proyecto: ${prompt}.
    `;

    // Guardamos el prompt en localStorage para la siguiente página
    localStorage.setItem("fullPrompt", fullPrompt);

    // Redirigimos a la siguiente página donde se hará la IA
    window.location.href = "proyect description.html";
  }

 <script>

async function generateProposal(){

const input = document.getElementById("inputText").value;
const outputBox = document.getElementById("outputBox");
const proposalText = document.getElementById("proposalText");
const priceEstimate = document.getElementById("priceEstimate");
const visualPreview = document.getElementById("visualPreview");
const codePreview = document.getElementById("codePreview");

if(input.trim()===""){
alert("Please describe your vision.");
return;
}

/* ===== RECUPERAR CONTEXTO DE PÁGINA 1 ===== */

const previousSelections = localStorage.getItem("projectSelections") || "";

/* ===== CAPTURAR CHECKLIST ACTUAL ===== */

let selected = [];
document.querySelectorAll(".checklist input:checked").forEach(el=>{
selected.push(el.value);
});

/* ===== CONSTRUIR PROMPT COMPLETO ===== */

const fullPrompt = `
Client Configuration:
${previousSelections}

User Vision:
${input}

Requested Modules:
${selected.join(", ")}

Refine this into a professional creative direction, 
technical breakdown, and execution strategy.
`;

/* ===== LLAMADA AL BACKEND ===== */

try{

const response = await fetch("/api/refine-prompt", {
method: "POST",
headers: {
"Content-Type": "application/json"
},
body: JSON.stringify({ prompt: fullPrompt })
});

const data = await response.json();

outputBox.style.display = "block";
proposalText.innerText = data.response;

/* ===== EJEMPLO DE PRECIO DINÁMICO ===== */

let basePrice = 1200;
if(selected.includes("3D")) basePrice += 2000;
if(selected.includes("Animation")) basePrice += 1000;
if(selected.includes("Web")) basePrice += 1500;

priceEstimate.innerText = "Estimated Investment: $" + basePrice;

/* ===== PREVIEW DINÁMICO SIMPLE ===== */

if(selected.includes("3D")){
visualPreview.innerHTML = `
<iframe src="https://threejs.org/examples/" 
width="100%" height="200px"></iframe>
`;
codePreview.textContent = "// 3D Module Activated\n// Three.js structure generated.";
}

}catch(error){
console.error(error);
alert("Error connecting to AI engine.");
}

}

</script>   
</script>
</body>
</html>




